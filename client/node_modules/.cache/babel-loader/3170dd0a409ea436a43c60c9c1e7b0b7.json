{"ast":null,"code":"var _jsxFileName = \"C:\\\\code\\\\laravel\\\\light-bootstrap-dashboard-react-master\\\\src\\\\views\\\\Maps.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; //구글맵 API Import\n\nimport Maps from '../components/location/Maps';\nimport Location_form from '../components/location/Location_form';\nimport Location_list from '../components/location/Location_list';\nimport Loader from '../components/location/Loader';\nexport default class Location extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      on: false,\n      location_datas: [],\n      location_data: {},\n      loader: false,\n      url: \"api/locations\",\n      // count state\n      cont1: 0,\n      cont2: 0,\n      cont3: 0\n    };\n\n    this.createDatas = async data => {\n      this.setState({\n        loader: true\n      });\n      await axios.post(this.state.url, {\n        location_name: data.location_name,\n        location_type: data.location_type,\n        location_lat: data.location_lat,\n        location_lng: data.location_lng\n      });\n      this.getDatas();\n      this.ObjCount();\n    };\n\n    this.getDatas = async () => {\n      this.setState({\n        loader: true\n      });\n      const location_datas = await axios.get(this.state.url);\n      this.setState({\n        location_datas: location_datas.data,\n        loader: false\n      });\n    };\n\n    this.editDatas = async data => {\n      // clear datas obj\n      this.setState({\n        location_data: {},\n        loader: true\n      });\n      await axios.put(\"\".concat(this.state.url, \"/\").concat(data.id), {\n        location_name: data.location_name,\n        location_type: data.location_type,\n        location_lat: data.location_lat,\n        location_lng: data.location_lng\n      });\n      this.getDatas();\n    };\n\n    this.deleteDatas = async id => {\n      this.setState({\n        loader: true\n      });\n      await axios.delete(\"\".concat(this.state.url, \"/\").concat(id));\n      this.getDatas();\n    };\n\n    this.onFormSubmit = data => {\n      if (data.isEdit) {\n        //is edit true\n        this.editDatas(data);\n      } else {\n        //is eidt false\n        this.createDatas(data);\n      }\n    };\n\n    this.onDelete = id => {\n      this.deleteDatas(id);\n    };\n\n    this.onEdit = data => {\n      this.setState({\n        location_data: data\n      });\n      this.setState({\n        on: !this.state.on\n      });\n    };\n\n    this.ObjCount = () => {\n      // 신호등, 횡단보도, 버스정류장 갯수 확인\n      const tt = this.state.location_datas;\n      this.state.cont1 = 0;\n      this.state.cont2 = 0;\n      this.state.cont3 = 0;\n      console.log('배열객체 확인', tt);\n\n      for (let i = 0; i < tt.length; i++) {\n        if (tt[i].location_type == \"신호등\") {\n          this.state.cont1++;\n        } else if (tt[i].location_type == \"횡단보도\") {\n          this.state.cont2++;\n        } else if (tt[i].location_type == \"버스정류장\") {\n          this.state.cont3++;\n        }\n      }\n\n      console.log('cont1', this.state.cont1);\n      console.log('cont2', this.state.cont2);\n      console.log('cont3', this.state.cont3);\n    };\n  }\n\n  componentDidMount() {\n    this.getDatas();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map_section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map_section_category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, this.ObjCount(), this.state.loader ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 38\n      }\n    }) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map_section_1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Location_form, {\n      location_data: this.state.location_data,\n      onFormSubmit: this.onFormSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map_section_2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Location_list, {\n      location_datas: this.state.location_datas,\n      onDelete: this.onDelete,\n      onEdit: this.onEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"map_section_right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Maps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:/code/laravel/light-bootstrap-dashboard-react-master/src/views/Maps.jsx"],"names":["React","Component","axios","Maps","Location_form","Location_list","Loader","Location","state","on","location_datas","location_data","loader","url","cont1","cont2","cont3","createDatas","data","setState","post","location_name","location_type","location_lat","location_lng","getDatas","ObjCount","get","editDatas","put","id","deleteDatas","delete","onFormSubmit","isEdit","onDelete","onEdit","tt","console","log","i","length","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n//구글맵 API Import\r\nimport Maps from '../components/location/Maps';\r\n\r\nimport Location_form from '../components/location/Location_form';\r\nimport Location_list from '../components/location/Location_list';\r\nimport Loader from '../components/location/Loader';\r\n\r\nexport default class Location extends Component {\r\n    state = {\r\n        on:false,\r\n        location_datas: [],\r\n        location_data: {},\r\n        loader : false,\r\n        url: \"api/locations\",\r\n\r\n        // count state\r\n        cont1: 0,\r\n        cont2: 0,\r\n        cont3: 0,\r\n    };\r\n    \r\n    componentDidMount() {\r\n        this.getDatas();\r\n    };\r\n\r\n    // 생성\r\n    createDatas = async data => {\r\n        this.setState({ loader: true });\r\n\r\n        await axios.post(this.state.url, {\r\n            location_name: data.location_name,\r\n            location_type: data.location_type,\r\n            location_lat: data.location_lat,\r\n            location_lng: data.location_lng,\r\n        });\r\n\r\n        this.getDatas();\r\n        this.ObjCount();\r\n    };\r\n    \r\n    // 조회\r\n    getDatas = async() => {\r\n        this.setState({ loader: true });\r\n        const location_datas = await axios.get(this.state.url);\r\n        this.setState({ location_datas: location_datas.data, loader: false });\r\n    };\r\n\r\n    editDatas = async data => {\r\n        // clear datas obj\r\n        this.setState({ location_data: {}, loader: true });\r\n\r\n        await axios.put(`${this.state.url}/${data.id}`, {\r\n            location_name: data.location_name,\r\n            location_type: data.location_type,\r\n            location_lat: data.location_lat,\r\n            location_lng: data.location_lng,\r\n        });\r\n        this.getDatas();\r\n    };\r\n\r\n    //삭제\r\n    deleteDatas = async id => {\r\n        this.setState({ loader: true });\r\n        await axios.delete(`${this.state.url}/${id}`);\r\n\r\n        this.getDatas();\r\n    };\r\n\r\n    onFormSubmit = data => {\r\n        if(data.isEdit) {\r\n            //is edit true\r\n            this.editDatas(data);\r\n        } else {\r\n            //is eidt false\r\n            this.createDatas(data);\r\n        }\r\n    };\r\n\r\n    onDelete = id => {\r\n        this.deleteDatas(id);\r\n    }\r\n\r\n    onEdit = data => {\r\n        this.setState({ location_data: data });\r\n        this.setState({\r\n            on:!this.state.on\r\n        })\r\n    }\r\n\r\n    //ObjCount \r\n    ObjCount = () => {\r\n      // 신호등, 횡단보도, 버스정류장 갯수 확인\r\n      const tt = this.state.location_datas;\r\n      this.state.cont1 = 0;\r\n      this.state.cont2 = 0;\r\n      this.state.cont3 = 0;\r\n      console.log('배열객체 확인', tt);\r\n      for(let i=0; i<tt.length; i++) {\r\n          if(tt[i].location_type == \"신호등\") {   \r\n              this.state.cont1++;\r\n          } else if (tt[i].location_type == \"횡단보도\") {\r\n              this.state.cont2++;\r\n          } else if (tt[i].location_type == \"버스정류장\") {\r\n              this.state.cont3++;\r\n          }\r\n      }\r\n      console.log('cont1', this.state.cont1);\r\n      console.log('cont2', this.state.cont2);\r\n      console.log('cont3', this.state.cont3);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n          <div className=\"location\">\r\n            <div className=\"map_section\">\r\n\r\n              <div className=\"map_section_category\">\r\n                {this.ObjCount()}\r\n                {this.state.loader ? <Loader /> : \"\"}\r\n              </div>\r\n\r\n              <div className=\"map_section_1\">\r\n                <Location_form\r\n                  location_data={this.state.location_data}\r\n                  onFormSubmit={this.onFormSubmit}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"map_section_2\">\r\n              <Location_list\r\n                location_datas={this.state.location_datas}\r\n                onDelete={this.onDelete}\r\n                onEdit={this.onEdit}\r\n              />\r\n              </div>\r\n                                    \r\n              <div className=\"map_section_right\">\r\n                <Maps />\r\n              </div>\r\n              \r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}